* { box-sizing: border-box; }
body {
  height: 100%;
  margin: 0;
  font: 16px/1.2 sans-serif;
  color: rgb(105,155,58);
  background-color: rgb(49,49,49);
}

.wrap { display:flex; flex-direction:column; height:100vh; }

header { text-align:center; background:black; color:#fff; padding:10px; font-weight:600; }
footer { height:34px; background:black; color:white; text-align:center; padding:6px; font-size:12px; }

.game-wrapper {
  flex: 1;
  display: flex;
  gap: 8px;
  align-items: stretch;
  justify-content: center;
  padding: 8px;
}

/* cada instancia de juego */
.game-instance {
  width: calc(50% - 8px);
  max-width: 900px;
  min-width: 380px;
  display:flex;
  flex-direction:column;
  align-items:center;
  position: relative;
}

/* contenedor del tablero */
.board {
  width: 800px;
  height: 600px;
  background: url(img/background-blue.png);
  background-size: cover;
  animation: scroll-background 5s linear infinite;
  position: relative;
  overflow: hidden;
  box-shadow: 0 2px 12px rgba(0,0,0,0.4);
}

.board.paused { animation-play-state: paused !important; }

/* overlay and panels */
.overlay { position:absolute; inset:0; display:flex; justify-content:center; align-items:center; z-index:120; }
.menu-panel { background: rgba(0,0,0,0.92); color:white; padding:18px; border-radius:8px; width:420px; box-shadow:0 8px 40px rgba(0,0,0,0.6); text-align:center; }
.hidden { display:none; }

/* enemies and players */
.enemy {
  position: absolute;
  width: 80px;
  height: 60px;
  z-index: 20;
  transform-origin: center;
}
.enemy img { width: 100%; height: auto; display:block; }
.enemy-label { position:absolute; bottom:-18px; left:0; width:100%; text-align:center; font-size:12px; color:white; text-shadow:0 1px 3px #000; pointer-events:none; }

.enemy.hidden-by-power { opacity: 0.12; pointer-events: none; }

.player {
  position: absolute;
  width: 56px;
  height: auto;
  z-index: 40;
  transform-origin: center;
}

/* respuesta visible sobre la nave */
.player-answer {
  position: absolute;
  z-index: 45;
  font-weight: 700;
  background: rgba(0,0,0,0.6);
  color: #fff;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 13px;
  transform: translate(-50%, -120%);
  left: 50%;
  pointer-events: none;
  white-space: nowrap;
}

/* lasers */
.laser, .enemyLaser {
  position: absolute;
  height: 20px;
  z-index: 30;
}

/* small panels above each board with score/controls */
.top-info {
  width: 800px;
  margin-bottom: 8px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  color:#fff;
}
.score-box {
  background: rgba(0,0,0,0.7);
  padding:6px 10px;
  border-radius:8px;
  font-weight:600;
}

/* end-screen (centered in board) - avoids stacking with others */
.end-screen {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%,-50%);
  background: rgba(0,0,0,0.88);
  color: #fff;
  padding: 16px 26px;
  border-radius: 10px;
  z-index: 200;
  text-align: center;
}

/* buttons */
.btn { padding:8px 12px; border:none; border-radius:6px; cursor:pointer; background:#444; color:#fff; }
.btn.primary { background:#0b84f2; }

/* responsive small screens: stack game instances */
@media (max-width: 980px) {
  .game-wrapper { flex-direction: column; align-items:center; }
  .game-instance { width: 92%; }
  .board { width: 100%; height: 460px; }
}


.score-box { background: rgba(0,0,0,0.7); padding:6px 10px; border-radius:8px; font-weight:600; min-width:88px; text-align:center; }


/* aumentar separación entre preguntas y nave y tamaño de la respuesta */
.player-answer {
  position: absolute;
  z-index: 45;
  font-weight: 800;
  background: rgba(0,0,0,0.7);
  color: #fff;
  padding: 6px 10px;
  border-radius: 8px;
  font-size: 16px;            /* más grande */
  transform: translate(-50%, -160%); /* más separación vertical para no tapar preguntas */
  left: 50%;
  pointer-events: none;
  white-space: nowrap;
}

/* efecto visual al recibir daño */
@keyframes hitFlash {
  0% { filter: none; transform: scale(1); }
  30% { filter: drop-shadow(0 0 8px red) saturate(2); transform: scale(1.02); }
  60% { filter: drop-shadow(0 0 8px red) saturate(2); transform: scale(0.98); }
  100% { filter: none; transform: scale(1); }
}
.player-hit {
  animation: hitFlash 700ms ease-in-out;
}

/* ajuste de cajas superiores */
.score-box { background: rgba(0,0,0,0.7); padding:6px 10px; border-radius:8px; font-weight:600; min-width:88px; text-align:center; }

/* PLAYER WRAP: contenedor que mantiene imagen y texto centrado (respuesta dentro de la nave) */
.player-wrap {
  position: absolute;
  width: 56px;
  height: 56px;
  z-index: 40;
  pointer-events: none;
}

/* la imagen dentro del wrap */
.player-wrap .player {
  display: block;
  width: 56px;
  height: auto;
}

/* respuesta DENTRO de la nave (centro) */
.player-wrap .player-answer {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
  font-size: 14px;
  padding: 4px 6px;
  background: rgba(0,0,0,0.45);
  color: #fff;
  border-radius: 6px;
  white-space: nowrap;
}

/* efecto de daño: solo usa filter y opacity, no transform */
@keyframes hitFlashNoTransform {
  0% { filter: none; opacity: 1; }
  30% { filter: drop-shadow(0 0 8px rgba(255,0,0,0.9)) saturate(2); opacity: .9; }
  60% { filter: drop-shadow(0 0 10px rgba(255,0,0,0.9)) saturate(2); opacity: .85; }
  100% { filter: none; opacity: 1; }
}
.player-hit {
  animation: hitFlashNoTransform 700ms ease-in-out;
}


/* PLAYER WRAP & contenido: la caja .player-answer no gira; solo rota la imagen .player-img */
.player-wrap {
  position: absolute;
  width: 56px;
  height: 56px;
  z-index: 40;
  pointer-events: none;
}

/* imagen del jugador: ROTARÁ para 'mirar' arriba/abajo */
.player-wrap .player {
  display: block;
  width: 56px;
  height: auto;
  transform-origin: center center;
}

/* respuesta DENTRO de la nave (centro) — no rota */
.player-wrap .player-answer {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
  font-size: 14px;
  padding: 4px 6px;
  background: rgba(0,0,0,0.45);
  color: #fff;
  border-radius: 6px;
  white-space: nowrap;
}

/* efecto de daño solo con filter/opacity */
@keyframes hitFlashNoTransform {
  0% { filter: none; opacity: 1; }
  30% { filter: drop-shadow(0 0 8px rgba(255,0,0,0.9)) saturate(2); opacity: .9; }
  60% { filter: drop-shadow(0 0 10px rgba(255,0,0,0.9)) saturate(2); opacity: .85; }
  100% { filter: none; opacity: 1; }
}
.player-hit { animation: hitFlashNoTransform 700ms ease-in-out; }



/*koijhugyvhjbkhugyuvtfg vhbjuigyufc*/

/* ROUND OVERLAY */
.round-overlay {
  position: absolute;
  inset: 0;
  display:flex;
  justify-content:center;
  align-items:center;
  pointer-events:none;
  z-index: 999;
}
.round-overlay .round-text {
  background: rgba(0,0,0,0.75);
  color: #fff;
  font-size: 36px;
  padding: 24px 40px;
  border-radius: 12px;
  font-weight: 800;
  box-shadow: 0 4px 18px rgba(0,0,0,0.6);
  transform: scale(1);
  transition: transform 220ms ease;
}
.round-overlay.hidden { display:none; }

/* small top messages */
.top-temp-msg {
  position: relative;
  display:inline-block;
  background: rgba(0,0,0,0.7);
  color: #fff;
  padding: 6px 10px;
  border-radius: 8px;
  margin-left: 8px;
  opacity: 1;
  transition: transform .6s ease, opacity .8s ease;
}
.top-temp-msg.out { transform: translateY(-8px); opacity: 0; }

/* leaderboard panel (menu) */
.leaderboard-panel {
  margin: 12px auto;
  max-width: 820px;
  color: #fff;
}
.leaderboard-panel .leaderboard-inner { background: rgba(0,0,0,0.45); padding:12px; border-radius:10px; }
.lb-table { width:100%; border-collapse:collapse; font-size:13px; }
.lb-table th, .lb-table td { padding:6px 8px; text-align:left; border-bottom: 1px solid rgba(255,255,255,0.06); }
.lb-table th { font-weight:700; font-size:12px; opacity:0.9; }
.leaderboard-panel .empty { color: #ddd; padding: 10px; }

/* adapt end screen to include name input */
.end-screen .enter-name { margin-top: 10px; display:flex; gap:8px; align-items:center; justify-content:center; }
.end-screen .enter-name input { padding:6px; border-radius:6px; border:1px solid #333; background: #111; color: #fff; }
.end-screen .saved-msg { color:#b8ffb8; font-weight:700; margin-top:10px; }

/* small: player-hit visual darker */
.player-hit { filter: drop-shadow(0 0 8px rgba(255,0,0,0.9)); animation: none; }


